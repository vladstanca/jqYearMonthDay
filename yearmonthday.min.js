(function(a){a.fn.yearMonthDay=function(d){var c=new Date().getFullYear();var e=a.extend({displayFormat:"ymd",targetFormat:"y-m-d",yearStart:c,yearCount:10,monthStart:1,monthCount:12,dayStart:1,dayCount:31,hideTarget:true,},d);e.ymd={y:"year",m:"month",d:"day"};e.displayFormat=e.displayFormat.split("");e.targetFormat=e.targetFormat.split("");function b(l,k){var h=[];for(var j=0;j<Math.abs(k);j++){if(k<0){h.push(l-j)}else{h.push(l+j)}}return h}function g(i){var h=a("<select></select>");a(h).addClass(i).append('<option value="">'+i.charAt(0).toUpperCase()+i.slice(1)+"</option>");var j=b(e[i+"Start"],e[i+"Count"]);a.each(j,function(k,l){a(h).append('<option value="value">value</option>'.replace(/value/g,l))});return h}function f(l,k){var j=a(l).val().match(/\d+/g);var h=0;a.each(e.targetFormat,function(i,n){if(typeof e.ymd[n]!=="undefined"){var o=parseInt(j[h]);var m="."+e.ymd[n];a(m,k).val(o);h++}})}return this.each(function(){var j=this;var h={};var i=a('<div class="yearMonthDay"></div>');a.each(e.displayFormat,function(k,l){if(typeof e.ymd[l]!=="undefined"){a(i).append(g(e.ymd[l]))}else{a(i).append(l)}});a(j).after(i);if(e.hideTarget){a(j).hide()}if(a(j).val()){f(j,i)}a("select",i).on("change",function(l){var k="";a.each(e.targetFormat,function(m,n){if(typeof e.ymd[n]!=="undefined"){k+=a("."+e.ymd[n],i).val()}else{k+=n}});a(j).val(k)})})}}(jQuery));